(()=>{var e={};e.id=895,e.ids=[895],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},5315:e=>{"use strict";e.exports=require("path")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},3292:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>g,tree:()=>c}),r(8841),r(8696),r(5866);var s=r(3191),a=r(8716),n=r(7922),i=r.n(n),o=r(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["projects",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,8841)),"/Users/juandominguez/seamless-bp/app/projects/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,8696)),"/Users/juandominguez/seamless-bp/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/juandominguez/seamless-bp/app/projects/page.tsx"],u="/projects/page",p={require:r,loadChunk:()=>Promise.resolve()},g=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/projects/page",pathname:"/projects",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5949:(e,t,r)=>{let s={"44f2cf53df0127bb24e0ca37dcdbf49dc2d49013":()=>Promise.resolve().then(r.bind(r,2759)).then(e=>e.getProjects),"89458021cf3d020135ba8a130830cc1826425d04":()=>Promise.resolve().then(r.bind(r,2759)).then(e=>e.updateProjectField)};async function a(e,...t){return(await s[e]()).apply(null,t)}e.exports={"44f2cf53df0127bb24e0ca37dcdbf49dc2d49013":a.bind(null,"44f2cf53df0127bb24e0ca37dcdbf49dc2d49013"),"89458021cf3d020135ba8a130830cc1826425d04":a.bind(null,"89458021cf3d020135ba8a130830cc1826425d04")}},5743:(e,t,r)=>{Promise.resolve().then(r.bind(r,7269)),Promise.resolve().then(r.bind(r,5566))},5566:(e,t,r)=>{"use strict";r.d(t,{ProjectDataTable:()=>d});var s=r(326),a=r(7577),n=r(6508),i=r(1798),o=r(5940),l=r(772),c=r(4432);function d({columns:e,data:t}){let[r,d]=a.useState([]),[u,p]=a.useState([]),g=(0,n.b7)({data:t,columns:e,getCoreRowModel:(0,i.sC)(),getPaginationRowModel:(0,i.G_)(),onSortingChange:d,getSortedRowModel:(0,i.tj)(),onColumnFiltersChange:p,getFilteredRowModel:(0,i.vL)(),state:{sorting:r,columnFilters:u}});return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"flex items-center py-4",children:(0,s.jsx)(c.I,{placeholder:"Filter projects by name...",value:g.getColumn("name")?.getFilterValue()??"",onChange:e=>g.getColumn("name")?.setFilterValue(e.target.value),className:"max-w-sm"})}),(0,s.jsx)("div",{className:"rounded-md border",children:(0,s.jsxs)(o.iA,{children:[(0,s.jsx)(o.xD,{children:g.getHeaderGroups().map(e=>(0,s.jsx)(o.SC,{children:e.headers.map(e=>(0,s.jsx)(o.ss,{children:e.isPlaceholder?null:(0,n.ie)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,s.jsx)(o.RM,{children:g.getRowModel().rows?.length?g.getRowModel().rows.map(e=>(0,s.jsx)(o.SC,{"data-state":e.getIsSelected()&&"selected",children:e.getVisibleCells().map(e=>(0,s.jsx)(o.pj,{children:(0,n.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,s.jsx)(o.SC,{children:(0,s.jsx)(o.pj,{colSpan:e.length,className:"h-24 text-center",children:"No results."})})})]})}),(0,s.jsxs)("div",{className:"flex items-center justify-end space-x-2 py-4",children:[(0,s.jsx)(l.z,{variant:"outline",size:"sm",onClick:()=>g.previousPage(),disabled:!g.getCanPreviousPage(),children:"Previous"}),(0,s.jsx)(l.z,{variant:"outline",size:"sm",onClick:()=>g.nextPage(),disabled:!g.getCanNextPage(),children:"Next"})]})]})}},7269:(e,t,r)=>{"use strict";r.d(t,{columns:()=>l});var s=r(326),a=r(567);let n=e=>{if(!e)return"-";try{return new Date(e).toLocaleDateString()}catch(e){return"Invalid Date"}},i=e=>null==e?"-":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),o={bidding:"bg-yellow-500 hover:bg-yellow-600",won:"bg-blue-500 hover:bg-blue-600",lost:"bg-red-500 hover:bg-red-600","no-go":"bg-gray-500 hover:bg-gray-600","in progress":"bg-purple-500 hover:bg-purple-600",completed:"bg-green-500 hover:bg-green-600",invoiced:"bg-teal-500 hover:bg-teal-600",closed:"bg-gray-700 hover:bg-gray-800"},l=[{accessorKey:"name",header:"Project Name"},{accessorKey:"client_company",header:"Client",cell:({row:e})=>e.original.client_company||"-"},{accessorKey:"start_date",header:"Start Date",cell:({row:e})=>n(e.original.start_date)},{accessorKey:"status",header:"Status",cell:({row:e})=>{let t=e.original.status,r=o[t]||"bg-gray-400";return(0,s.jsx)(a.C,{variant:"default",className:`${r} text-white`,children:t})}},{accessorKey:"revenue",header:"Revenue",cell:({row:e})=>i(e.original.revenue)}]},567:(e,t,r)=>{"use strict";r.d(t,{C:()=>l});var s=r(326);r(7577);var a=r(4214),n=r(9360),i=r(7863);let o=(0,n.j)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:t,asChild:r=!1,...n}){let l=r?a.g7:"span";return(0,s.jsx)(l,{"data-slot":"badge",className:(0,i.cn)(o({variant:t}),e),...n})}},4432:(e,t,r)=>{"use strict";r.d(t,{I:()=>n});var s=r(326);r(7577);var a=r(7863);function n({className:e,type:t,...r}){return(0,s.jsx)("input",{type:t,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}},5940:(e,t,r)=>{"use strict";r.d(t,{RM:()=>o,SC:()=>l,iA:()=>n,pj:()=>d,ss:()=>c,xD:()=>i});var s=r(326);r(7577);var a=r(7863);function n({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,s.jsx)("table",{"data-slot":"table",className:(0,a.cn)("w-full caption-bottom text-sm",e),...t})})}function i({className:e,...t}){return(0,s.jsx)("thead",{"data-slot":"table-header",className:(0,a.cn)("[&_tr]:border-b",e),...t})}function o({className:e,...t}){return(0,s.jsx)("tbody",{"data-slot":"table-body",className:(0,a.cn)("[&_tr:last-child]:border-0",e),...t})}function l({className:e,...t}){return(0,s.jsx)("tr",{"data-slot":"table-row",className:(0,a.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function c({className:e,...t}){return(0,s.jsx)("th",{"data-slot":"table-head",className:(0,a.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function d({className:e,...t}){return(0,s.jsx)("td",{"data-slot":"table-cell",className:(0,a.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}},8841:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(9510),a=r(2759),n=r(8570);let i=(0,n.createProxy)(String.raw`/Users/juandominguez/seamless-bp/components/projects/columns.tsx#columns`),o=(0,n.createProxy)(String.raw`/Users/juandominguez/seamless-bp/components/projects/ProjectDataTable.tsx#ProjectDataTable`);async function l(){let{projects:e,error:t}=await (0,a.getProjects)();return t?(0,s.jsxs)("div",{className:"text-red-500",children:["Error loading projects: ",t.message]}):e?(0,s.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold",children:"Projects"}),(0,s.jsx)(o,{columns:i,data:e})]}):(0,s.jsx)("div",{children:"Loading projects... or no projects found."})}},2759:(e,t,r)=>{"use strict";r.r(t),r.d(t,{getProjects:()=>i,updateProjectField:()=>o});var s=r(4330);r(166);var a=r(9692),n=r(7708);async function i(){let e=await (0,a.R)(),{data:t,error:r}=await e.from("projects").select("*").order("created_at",{ascending:!1});return r?(console.error("Error fetching projects:",r),{projects:null,error:r}):{projects:t,error:null}}async function o(e,t,r){let s=await (0,a.R)();if(!e||!t)return console.error("Missing projectId or field for update"),{success:!1,error:{message:"Invalid input",details:"",hint:"",code:""}};let{error:i}=await s.from("projects").update({[t]:r}).eq("id",e);return i?(console.error(`Error updating project ${t}:`,i),{success:!1,error:i}):((0,n.revalidatePath)("/projects"),{success:!0,error:null})}(0,r(618).h)([i,o]),(0,s.j)("44f2cf53df0127bb24e0ca37dcdbf49dc2d49013",i),(0,s.j)("89458021cf3d020135ba8a130830cc1826425d04",o)},9692:(e,t,r)=>{"use strict";r.d(t,{R:()=>n});var s=r(8641),a=r(1615);async function n(){let e=await (0,a.cookies)();return(0,s.createServerClient)("https://herpqcdwgbhwvbqxrzgz.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhlcnBxY2R3Z2Jod3ZicXhyemd6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ1NzMyMzMsImV4cCI6MjA2MDE0OTIzM30.yXo9_1CERhV8U7nO8OLmNucLjTGXYy3o4gSZowyBeO8",{cookies:{get:t=>e.get(t)?.value,set(t,r,s){try{e.set({name:t,value:r,...s})}catch(e){}},remove(t,r){try{e.set({name:t,value:"",...r})}catch(e){}}}})}},7481:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(6621);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,37,621,449,341,123,520],()=>r(3292));module.exports=s})();