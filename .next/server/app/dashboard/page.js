(()=>{var e={};e.id=702,e.ids=[702],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},5315:e=>{"use strict";e.exports=require("path")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},1257:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),r(572),r(8696),r(5866);var a=r(3191),s=r(8716),n=r(7922),o=r.n(n),i=r(5231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,572)),"/Users/juandominguez/seamless-bp/app/dashboard/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,8696)),"/Users/juandominguez/seamless-bp/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/juandominguez/seamless-bp/app/dashboard/page.tsx"],u="/dashboard/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5737:(e,t,r)=>{let a={"66ff428de8b4bbcd4c0dc3046bfee5315be70656":()=>Promise.resolve().then(r.bind(r,2001)).then(e=>e.getDashboardMetrics)};async function s(e,...t){return(await a[e]()).apply(null,t)}e.exports={"66ff428de8b4bbcd4c0dc3046bfee5315be70656":s.bind(null,"66ff428de8b4bbcd4c0dc3046bfee5315be70656")}},4907:(e,t,r)=>{Promise.resolve().then(r.bind(r,3427))},3427:(e,t,r)=>{"use strict";r.d(t,{Tabs:()=>q,TabsContent:()=>T,TabsList:()=>D,TabsTrigger:()=>M});var a=r(326),s=r(7577),n=r(2561),o=r(3095),i=r(5594),l=r(9815),d=r(5226),c=r(7124),u=r(2067),p=r(8957),m="Tabs",[x,b]=(0,o.b)(m,[i.Pc]),f=(0,i.Pc)(),[h,g]=x(m),v=s.forwardRef((e,t)=>{let{__scopeTabs:r,value:s,onValueChange:n,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:x="automatic",...b}=e,f=(0,c.gm)(l),[g,v]=(0,u.T)({prop:s,onChange:n,defaultProp:o??"",caller:m});return(0,a.jsx)(h,{scope:r,baseId:(0,p.M)(),value:g,onValueChange:v,orientation:i,dir:f,activationMode:x,children:(0,a.jsx)(d.WV.div,{dir:f,"data-orientation":i,...b,ref:t})})});v.displayName=m;var j="TabsList",y=s.forwardRef((e,t)=>{let{__scopeTabs:r,loop:s=!0,...n}=e,o=g(j,r),l=f(r);return(0,a.jsx)(i.fC,{asChild:!0,...l,orientation:o.orientation,dir:o.dir,loop:s,children:(0,a.jsx)(d.WV.div,{role:"tablist","aria-orientation":o.orientation,...n,ref:t})})});y.displayName=j;var w="TabsTrigger",N=s.forwardRef((e,t)=>{let{__scopeTabs:r,value:s,disabled:o=!1,...l}=e,c=g(w,r),u=f(r),p=I(c.baseId,s),m=z(c.baseId,s),x=s===c.value;return(0,a.jsx)(i.ck,{asChild:!0,...u,focusable:!o,active:x,children:(0,a.jsx)(d.WV.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":m,"data-state":x?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:p,...l,ref:t,onMouseDown:(0,n.M)(e.onMouseDown,e=>{o||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(s)}),onKeyDown:(0,n.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(s)}),onFocus:(0,n.M)(e.onFocus,()=>{let e="manual"!==c.activationMode;x||o||!e||c.onValueChange(s)})})})});N.displayName=w;var _="TabsContent",P=s.forwardRef((e,t)=>{let{__scopeTabs:r,value:n,forceMount:o,children:i,...c}=e,u=g(_,r),p=I(u.baseId,n),m=z(u.baseId,n),x=n===u.value,b=s.useRef(x);return s.useEffect(()=>{let e=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,a.jsx)(l.z,{present:o||x,children:({present:r})=>(0,a.jsx)(d.WV.div,{"data-state":x?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":p,hidden:!r,id:m,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:b.current?"0s":void 0},children:r&&i})})});function I(e,t){return`${e}-trigger-${t}`}function z(e,t){return`${e}-content-${t}`}P.displayName=_;var C=r(7863);function q({className:e,...t}){return(0,a.jsx)(v,{"data-slot":"tabs",className:(0,C.cn)("flex flex-col gap-2",e),...t})}function D({className:e,...t}){return(0,a.jsx)(y,{"data-slot":"tabs-list",className:(0,C.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function M({className:e,...t}){return(0,a.jsx)(N,{"data-slot":"tabs-trigger",className:(0,C.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function T({className:e,...t}){return(0,a.jsx)(P,{"data-slot":"tabs-content",className:(0,C.cn)("flex-1 outline-none",e),...t})}},572:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var a=r(9510),s=r(2001),n=r(4303),o=r(8570);let i=(0,o.createProxy)(String.raw`/Users/juandominguez/seamless-bp/components/ui/tabs.tsx#Tabs`),l=(0,o.createProxy)(String.raw`/Users/juandominguez/seamless-bp/components/ui/tabs.tsx#TabsList`),d=(0,o.createProxy)(String.raw`/Users/juandominguez/seamless-bp/components/ui/tabs.tsx#TabsTrigger`),c=(0,o.createProxy)(String.raw`/Users/juandominguez/seamless-bp/components/ui/tabs.tsx#TabsContent`),u=()=>(0,a.jsxs)(i,{defaultValue:"outline",className:"w-full",children:[(0,a.jsxs)(l,{className:"grid w-full grid-cols-4",children:[(0,a.jsx)(d,{value:"outline",children:"Outline"}),(0,a.jsx)(d,{value:"past_performance",children:"Past Performance"}),(0,a.jsx)(d,{value:"key_personnel",children:"Key Personnel"}),(0,a.jsx)(d,{value:"focus_documents",children:"Focus Documents"})]}),(0,a.jsx)(c,{value:"outline",children:(0,a.jsx)("div",{className:"p-4 border rounded-md mt-2 min-h-[200px]",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Outline content placeholder..."})})}),(0,a.jsx)(c,{value:"past_performance",children:(0,a.jsx)("div",{className:"p-4 border rounded-md mt-2 min-h-[200px]",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Past Performance content placeholder..."})})}),(0,a.jsx)(c,{value:"key_personnel",children:(0,a.jsx)("div",{className:"p-4 border rounded-md mt-2 min-h-[200px]",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Key Personnel content placeholder..."})})}),(0,a.jsx)(c,{value:"focus_documents",children:(0,a.jsx)("div",{className:"p-4 border rounded-md mt-2 min-h-[200px]",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Focus Documents content placeholder..."})})})]});async function p(){let e=await (0,s.getDashboardMetrics)();return(0,a.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold",children:"Dashboard"}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,a.jsx)(n.Z,{title:"Total Revenue",value:e.totalRevenue.value,trend:e.totalRevenue.trend,description:"Trending up this month",formatAsCurrency:!0}),(0,a.jsx)(n.Z,{title:"New Customers",value:e.newCustomers.value,trend:e.newCustomers.trend,description:"Down 20% this period"}),(0,a.jsx)(n.Z,{title:"Work In Progress",value:e.wipProjects.value,trend:e.wipProjects.trend,description:"Projects currently active"})]}),(0,a.jsx)("div",{children:(0,a.jsx)(u,{})})]})}},4303:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var a=r(9510);r(1159);var s=r(5761),n=r(2386);function o(...e){return(0,n.m6)((0,s.W)(e))}function i({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card",className:o("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function l({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-header",className:o("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function d({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-title",className:o("leading-none font-semibold",e),...t})}function c({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-content",className:o("px-6",e),...t})}var u=r(8022),p=r(3632);let m=({title:e,value:t,trend:r,description:s,formatAsCurrency:n=!1})=>{let m=n?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Number(t)):t,x=null==r?null:r>=0?(0,a.jsx)(u.Z,{className:"size-4 text-green-500"}):(0,a.jsx)(p.Z,{className:"size-4 text-red-500"}),b=null==r?null:`${r>=0?"+":""}${r}%`;return(0,a.jsxs)(i,{children:[(0,a.jsx)(l,{className:"pb-2",children:(0,a.jsx)(d,{className:"text-sm font-medium",children:e})}),(0,a.jsxs)(c,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:m}),null!=r&&(0,a.jsxs)("p",{className:o("text-xs flex items-center gap-1",null==r?"text-muted-foreground":r>=0?"text-green-500":"text-red-500"),children:[x,b,s&&(0,a.jsx)("span",{className:"text-muted-foreground ml-1",children:s})]}),null==r&&s&&(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:s})]})]})}},2001:(e,t,r)=>{"use strict";r.r(t),r.d(t,{getDashboardMetrics:()=>l});var a=r(4330);r(166);var s=r(9692),n=r(618);let o=["in progress"];function i(e,t){return 0===t?e>0?100:0:Math.round((e-t)/t*100)}async function l(){let e=await (0,s.R)(),t=new Date;t.setDate(t.getDate()-30);let r=t.toISOString(),a=new Date;a.setDate(a.getDate()-60);let n=a.toISOString(),l=[],{data:d,error:c}=await e.from("projects").select("revenue").gte("created_at",r);c&&l.push(c);let u=d?.reduce((e,t)=>e+(t.revenue??0),0)??0,{data:p,error:m}=await e.from("projects").select("revenue").gte("created_at",n).lt("created_at",r);m&&l.push(m);let x=i(u,p?.reduce((e,t)=>e+(t.revenue??0),0)??0),{data:b,error:f}=await e.from("projects").select("client_company",{count:"exact",head:!0}).gte("created_at",r);f&&l.push(f),b?.length;let{data:h,error:g}=await e.from("projects").select("client_company").gte("created_at",r),v=new Set(h?.map(e=>e.client_company).filter(Boolean)).size,{data:j,error:y}=await e.from("projects").select("client_company").gte("created_at",n).lt("created_at",r),w=i(v,new Set(j?.map(e=>e.client_company).filter(Boolean)).size),{count:N,error:_}=await e.from("projects").select("*",{count:"exact",head:!0}).in("status",o);return _&&l.push(_),l.length>0&&console.error("Errors fetching dashboard metrics:",l),{totalRevenue:{value:u,trend:x},newCustomers:{value:v,trend:w},wipProjects:{value:N??0,trend:null}}}(0,n.h)([l]),(0,a.j)("66ff428de8b4bbcd4c0dc3046bfee5315be70656",l)},9692:(e,t,r)=>{"use strict";r.d(t,{R:()=>n});var a=r(8641),s=r(1615);async function n(){let e=await (0,s.cookies)();return(0,a.createServerClient)("https://herpqcdwgbhwvbqxrzgz.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhlcnBxY2R3Z2Jod3ZicXhyemd6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ1NzMyMzMsImV4cCI6MjA2MDE0OTIzM30.yXo9_1CERhV8U7nO8OLmNucLjTGXYy3o4gSZowyBeO8",{cookies:{get:t=>e.get(t)?.value,set(t,r,a){try{e.set({name:t,value:r,...a})}catch(e){}},remove(t,r){try{e.set({name:t,value:"",...r})}catch(e){}}}})}},7481:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(6621);let s=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[948,37,621,449,341,758,520],()=>r(1257));module.exports=a})();